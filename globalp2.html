<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Live News by State</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
      }
      .row {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 20px;
      }
      .state {
        flex: 1;
        min-width: 250px;
        background: #f4f4f4;
        border-radius: 8px;
        padding: 10px;
        box-shadow: 0 2px 5px #0001;
      }
      .state-name {
        font-weight: bold;
        margin-bottom: 10px;
        font-size: 1.2em;
      }
      .placeholder {
        font-size: 0.9em;
        margin-bottom: 8px;
        padding: 6px;
        background: #fff;
        border-radius: 6px;
        transition: background 0.3s;
      }
      .flash-green {
        background-color: #c6f9c6 !important;
      }
      #search-bar {
        width: 100%;
        padding: 12px 16px;
        margin-bottom: 12px;
        border: 2px solid #ccc;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s ease;
      }

      #search-bar:focus {
        border-color: #007bff;
        outline: none;
      }

      #search-container {
        position: relative;
        width: 100%;
      }

      #search-button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s ease;
      }

      #search-button:hover {
        background-color: #0056b3;
      }

      #clear-button {
        position: absolute;
        right: 15px;
        top: 12px;
        background: transparent;
        border: none;
        font-size: 16px;
        cursor: pointer;
        color: #888;
      }

      #clear-button:hover {
        color: #333;
      }

      #loading-spinner {
        display: none;
        margin-left: 10px;
        vertical-align: middle;
      }
      .container {
        display: flex;
      }
      .mapcontainer {
        width: 60%;
      }
      #news-box {
        width: 40%;
        padding: 10px;
        border-left: 1px solid #ccc;
      }
      ul#news-list {
        list-style: none;
        padding: 0;
      }
      ul#news-list li {
        padding: 10px;
        border-bottom: 1px solid #ccc;
      }
      /* Container styling */
      .dropdown-container {
        margin: 20px 0;
        font-family: "Segoe UI", sans-serif;
        display: none; /* Initially hidden */
      }

      /* Label */
      .dropdown-container label {
        font-weight: bold;
        margin-bottom: 8px;
        display: block;
        font-size: 16px;
      }

      /* Stylish select */
      #state {
        width: 100%;
        max-width: 300px;
        padding: 10px 14px;
        font-size: 15px;
        border: 1px solid #ccc;
        border-radius: 8px;
        background-color: #f9f9f9;
        color: #333;
        outline: none;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      /* Hover and focus effects */
      #state:hover {
        border-color: #007bff;
        background-color: #f1f9ff;
      }

      #state:focus {
        border-color: #007bff;
        box-shadow: 0 0 4px rgba(0, 123, 255, 0.5);
      }

      /* Optional: List styles */
      #news-list {
        margin-top: 20px;
        padding-left: 0;
        list-style-type: none;
      }

      #news-list li {
        background: #f2f2f2;
        margin-bottom: 10px;
        padding: 12px;
        border-radius: 6px;
        font-size: 14px;
      }

      #news-list li a {
        color: blue; /* Inherits the color from the parent element */
        text-decoration: none; /* Removes underline */
      }
    </style>
  </head>
  <body>
    <h1>Live Rotating News Headlines</h1>

    <div id="news-feeds"></div>

    <div>
      <div class="container">
        <div class="mapcontainer">
          <div class="map"></div>
        </div>
        <div id="news-box">
          <h2>Selected State News</h2>
          <div id="search-container">
            <input
              type="text"
              id="search-bar"
              placeholder="Search keywords..."
              onkeydown="handleKeyPress(event)"
            />
            <button id="clear-button" onclick="clearSearch()">✖</button>
          </div>

          <button id="search-button" onclick="Trigger()">Search</button>
          <span id="loading-spinner">⏳</span>
          <div class="dropdown-container">
            <label for="state">Select a State:</label>
            <select name="State" id="state">
              <!-- options will be populated dynamically -->
            </select>
          </div>
          <ul id="news-list"></ul>
        </div>
      </div>

      <div id="news-container">
        <h2>Americas</h2>
        <h3>North America</h3>

        <div class="row">
          <div class="state">
            <div class="state-name">Alabama</div>
            <div id="Alabama-slot-0" class="placeholder">Loading...</div>
            <div id="Alabama-slot-1" class="placeholder">Loading...</div>
            <div id="Alabama-slot-2" class="placeholder">Loading...</div>
            <div id="Alabama-slot-3" class="placeholder">Loading...</div>
            <div id="Alabama-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Alaska</div>
            <div id="Alaska-slot-0" class="placeholder">Loading...</div>
            <div id="Alaska-slot-1" class="placeholder">Loading...</div>
            <div id="Alaska-slot-2" class="placeholder">Loading...</div>
            <div id="Alaska-slot-3" class="placeholder">Loading...</div>
            <div id="Alaska-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Arizona</div>
            <div id="Arizona-slot-0" class="placeholder">Loading...</div>
            <div id="Arizona-slot-1" class="placeholder">Loading...</div>
            <div id="Arizona-slot-2" class="placeholder">Loading...</div>
            <div id="Arizona-slot-3" class="placeholder">Loading...</div>
            <div id="Arizona-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Arkansas</div>
            <div id="Arkansas-slot-0" class="placeholder">Loading...</div>
            <div id="Arkansas-slot-1" class="placeholder">Loading...</div>
            <div id="Arkansas-slot-2" class="placeholder">Loading...</div>
            <div id="Arkansas-slot-3" class="placeholder">Loading...</div>
            <div id="Arkansas-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">California</div>
            <div id="California-slot-0" class="placeholder">Loading...</div>
            <div id="California-slot-1" class="placeholder">Loading...</div>
            <div id="California-slot-2" class="placeholder">Loading...</div>
            <div id="California-slot-3" class="placeholder">Loading...</div>
            <div id="California-slot-4" class="placeholder">Loading...</div>
          </div>
        </div>
        <div class="row">
          <div class="state">
            <div class="state-name">Colorado</div>
            <div id="Colorado-slot-0" class="placeholder">Loading...</div>
            <div id="Colorado-slot-1" class="placeholder">Loading...</div>
            <div id="Colorado-slot-2" class="placeholder">Loading...</div>
            <div id="Colorado-slot-3" class="placeholder">Loading...</div>
            <div id="Colorado-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Connecticut</div>
            <div id="Connecticut-slot-0" class="placeholder">Loading...</div>
            <div id="Connecticut-slot-1" class="placeholder">Loading...</div>
            <div id="Connecticut-slot-2" class="placeholder">Loading...</div>
            <div id="Connecticut-slot-3" class="placeholder">Loading...</div>
            <div id="Connecticut-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Delaware</div>
            <div id="Delaware-slot-0" class="placeholder">Loading...</div>
            <div id="Delaware-slot-1" class="placeholder">Loading...</div>
            <div id="Delaware-slot-2" class="placeholder">Loading...</div>
            <div id="Delaware-slot-3" class="placeholder">Loading...</div>
            <div id="Delaware-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Florida</div>
            <div id="Florida-slot-0" class="placeholder">Loading...</div>
            <div id="Florida-slot-1" class="placeholder">Loading...</div>
            <div id="Florida-slot-2" class="placeholder">Loading...</div>
            <div id="Florida-slot-3" class="placeholder">Loading...</div>
            <div id="Florida-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Georgia</div>
            <div id="Georgia-slot-0" class="placeholder">Loading...</div>
            <div id="Georgia-slot-1" class="placeholder">Loading...</div>
            <div id="Georgia-slot-2" class="placeholder">Loading...</div>
            <div id="Georgia-slot-3" class="placeholder">Loading...</div>
            <div id="Georgia-slot-4" class="placeholder">Loading...</div>
          </div>
        </div>
        <div class="row">
          <div class="state">
            <div class="state-name">Hawaii</div>
            <div id="Hawaii-slot-0" class="placeholder">Loading...</div>
            <div id="Hawaii-slot-1" class="placeholder">Loading...</div>
            <div id="Hawaii-slot-2" class="placeholder">Loading...</div>
            <div id="Hawaii-slot-3" class="placeholder">Loading...</div>
            <div id="Hawaii-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Idaho</div>
            <div id="Idaho-slot-0" class="placeholder">Loading...</div>
            <div id="Idaho-slot-1" class="placeholder">Loading...</div>
            <div id="Idaho-slot-2" class="placeholder">Loading...</div>
            <div id="Idaho-slot-3" class="placeholder">Loading...</div>
            <div id="Idaho-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Illinois</div>
            <div id="Illinois-slot-0" class="placeholder">Loading...</div>
            <div id="Illinois-slot-1" class="placeholder">Loading...</div>
            <div id="Illinois-slot-2" class="placeholder">Loading...</div>
            <div id="Illinois-slot-3" class="placeholder">Loading...</div>
            <div id="Illinois-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Indiana</div>
            <div id="Indiana-slot-0" class="placeholder">Loading...</div>
            <div id="Indiana-slot-1" class="placeholder">Loading...</div>
            <div id="Indiana-slot-2" class="placeholder">Loading...</div>
            <div id="Indiana-slot-3" class="placeholder">Loading...</div>
            <div id="Indiana-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Iowa</div>
            <div id="Iowa-slot-0" class="placeholder">Loading...</div>
            <div id="Iowa-slot-1" class="placeholder">Loading...</div>
            <div id="Iowa-slot-2" class="placeholder">Loading...</div>
            <div id="Iowa-slot-3" class="placeholder">Loading...</div>
            <div id="Iowa-slot-4" class="placeholder">Loading...</div>
          </div>
        </div>
        <div class="row">
          <div class="state">
            <div class="state-name">Kansas</div>
            <div id="Kansas-slot-0" class="placeholder">Loading...</div>
            <div id="Kansas-slot-1" class="placeholder">Loading...</div>
            <div id="Kansas-slot-2" class="placeholder">Loading...</div>
            <div id="Kansas-slot-3" class="placeholder">Loading...</div>
            <div id="Kansas-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Kentucky</div>
            <div id="Kentucky-slot-0" class="placeholder">Loading...</div>
            <div id="Kentucky-slot-1" class="placeholder">Loading...</div>
            <div id="Kentucky-slot-2" class="placeholder">Loading...</div>
            <div id="Kentucky-slot-3" class="placeholder">Loading...</div>
            <div id="Kentucky-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Louisiana</div>
            <div id="Louisiana-slot-0" class="placeholder">Loading...</div>
            <div id="Louisiana-slot-1" class="placeholder">Loading...</div>
            <div id="Louisiana-slot-2" class="placeholder">Loading...</div>
            <div id="Louisiana-slot-3" class="placeholder">Loading...</div>
            <div id="Louisiana-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Maine</div>
            <div id="Maine-slot-0" class="placeholder">Loading...</div>
            <div id="Maine-slot-1" class="placeholder">Loading...</div>
            <div id="Maine-slot-2" class="placeholder">Loading...</div>
            <div id="Maine-slot-3" class="placeholder">Loading...</div>
            <div id="Maine-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Maryland</div>
            <div id="Maryland-slot-0" class="placeholder">Loading...</div>
            <div id="Maryland-slot-1" class="placeholder">Loading...</div>
            <div id="Maryland-slot-2" class="placeholder">Loading...</div>
            <div id="Maryland-slot-3" class="placeholder">Loading...</div>
            <div id="Maryland-slot-4" class="placeholder">Loading...</div>
          </div>
        </div>
        <div class="row">
          <div class="state">
            <div class="state-name">Massachusetts</div>
            <div id="Massachusetts-slot-0" class="placeholder">Loading...</div>
            <div id="Massachusetts-slot-1" class="placeholder">Loading...</div>
            <div id="Massachusetts-slot-2" class="placeholder">Loading...</div>
            <div id="Massachusetts-slot-3" class="placeholder">Loading...</div>
            <div id="Massachusetts-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Michigan</div>
            <div id="Michigan-slot-0" class="placeholder">Loading...</div>
            <div id="Michigan-slot-1" class="placeholder">Loading...</div>
            <div id="Michigan-slot-2" class="placeholder">Loading...</div>
            <div id="Michigan-slot-3" class="placeholder">Loading...</div>
            <div id="Michigan-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Minnesota</div>
            <div id="Minnesota-slot-0" class="placeholder">Loading...</div>
            <div id="Minnesota-slot-1" class="placeholder">Loading...</div>
            <div id="Minnesota-slot-2" class="placeholder">Loading...</div>
            <div id="Minnesota-slot-3" class="placeholder">Loading...</div>
            <div id="Minnesota-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Mississippi</div>
            <div id="Mississippi-slot-0" class="placeholder">Loading...</div>
            <div id="Mississippi-slot-1" class="placeholder">Loading...</div>
            <div id="Mississippi-slot-2" class="placeholder">Loading...</div>
            <div id="Mississippi-slot-3" class="placeholder">Loading...</div>
            <div id="Mississippi-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Missouri</div>
            <div id="Missouri-slot-0" class="placeholder">Loading...</div>
            <div id="Missouri-slot-1" class="placeholder">Loading...</div>
            <div id="Missouri-slot-2" class="placeholder">Loading...</div>
            <div id="Missouri-slot-3" class="placeholder">Loading...</div>
            <div id="Missouri-slot-4" class="placeholder">Loading...</div>
          </div>
        </div>
        <div class="row">
          <div class="state">
            <div class="state-name">Montana</div>
            <div id="Montana-slot-0" class="placeholder">Loading...</div>
            <div id="Montana-slot-1" class="placeholder">Loading...</div>
            <div id="Montana-slot-2" class="placeholder">Loading...</div>
            <div id="Montana-slot-3" class="placeholder">Loading...</div>
            <div id="Montana-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Nebraska</div>
            <div id="Nebraska-slot-0" class="placeholder">Loading...</div>
            <div id="Nebraska-slot-1" class="placeholder">Loading...</div>
            <div id="Nebraska-slot-2" class="placeholder">Loading...</div>
            <div id="Nebraska-slot-3" class="placeholder">Loading...</div>
            <div id="Nebraska-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Nevada</div>
            <div id="Nevada-slot-0" class="placeholder">Loading...</div>
            <div id="Nevada-slot-1" class="placeholder">Loading...</div>
            <div id="Nevada-slot-2" class="placeholder">Loading...</div>
            <div id="Nevada-slot-3" class="placeholder">Loading...</div>
            <div id="Nevada-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">New Hampshire</div>
            <div id="NewHampshire-slot-0" class="placeholder">Loading...</div>
            <div id="NewHampshire-slot-1" class="placeholder">Loading...</div>
            <div id="NewHampshire-slot-2" class="placeholder">Loading...</div>
            <div id="NewHampshire-slot-3" class="placeholder">Loading...</div>
            <div id="NewHampshire-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">New Jersey</div>
            <div id="NewJersey-slot-0" class="placeholder">Loading...</div>
            <div id="NewJersey-slot-1" class="placeholder">Loading...</div>
            <div id="NewJersey-slot-2" class="placeholder">Loading...</div>
            <div id="NewJersey-slot-3" class="placeholder">Loading...</div>
            <div id="NewJersey-slot-4" class="placeholder">Loading...</div>
          </div>
        </div>
        <div class="row">
          <div class="state">
            <div class="state-name">New Mexico</div>
            <div id="NewMexico-slot-0" class="placeholder">Loading...</div>
            <div id="NewMexico-slot-1" class="placeholder">Loading...</div>
            <div id="NewMexico-slot-2" class="placeholder">Loading...</div>
            <div id="NewMexico-slot-3" class="placeholder">Loading...</div>
            <div id="NewMexico-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">New York</div>
            <div id="NewYork-slot-0" class="placeholder">Loading...</div>
            <div id="NewYork-slot-1" class="placeholder">Loading...</div>
            <div id="NewYork-slot-2" class="placeholder">Loading...</div>
            <div id="NewYork-slot-3" class="placeholder">Loading...</div>
            <div id="NewYork-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">North Carolina</div>
            <div id="NorthCarolina-slot-0" class="placeholder">Loading...</div>
            <div id="NorthCarolina-slot-1" class="placeholder">Loading...</div>
            <div id="NorthCarolina-slot-2" class="placeholder">Loading...</div>
            <div id="NorthCarolina-slot-3" class="placeholder">Loading...</div>
            <div id="NorthCarolina-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">North Dakota</div>
            <div id="NorthDakota-slot-0" class="placeholder">Loading...</div>
            <div id="NorthDakota-slot-1" class="placeholder">Loading...</div>
            <div id="NorthDakota-slot-2" class="placeholder">Loading...</div>
            <div id="NorthDakota-slot-3" class="placeholder">Loading...</div>
            <div id="NorthDakota-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Ohio</div>
            <div id="Ohio-slot-0" class="placeholder">Loading...</div>
            <div id="Ohio-slot-1" class="placeholder">Loading...</div>
            <div id="Ohio-slot-2" class="placeholder">Loading...</div>
            <div id="Ohio-slot-3" class="placeholder">Loading...</div>
            <div id="Ohio-slot-4" class="placeholder">Loading...</div>
          </div>
        </div>
        <div class="row">
          <div class="state">
            <div class="state-name">Oklahoma</div>
            <div id="Oklahoma-slot-0" class="placeholder">Loading...</div>
            <div id="Oklahoma-slot-1" class="placeholder">Loading...</div>
            <div id="Oklahoma-slot-2" class="placeholder">Loading...</div>
            <div id="Oklahoma-slot-3" class="placeholder">Loading...</div>
            <div id="Oklahoma-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Oregon</div>
            <div id="Oregon-slot-0" class="placeholder">Loading...</div>
            <div id="Oregon-slot-1" class="placeholder">Loading...</div>
            <div id="Oregon-slot-2" class="placeholder">Loading...</div>
            <div id="Oregon-slot-3" class="placeholder">Loading...</div>
            <div id="Oregon-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Pennsylvania</div>
            <div id="Pennsylvania-slot-0" class="placeholder">Loading...</div>
            <div id="Pennsylvania-slot-1" class="placeholder">Loading...</div>
            <div id="Pennsylvania-slot-2" class="placeholder">Loading...</div>
            <div id="Pennsylvania-slot-3" class="placeholder">Loading...</div>
            <div id="Pennsylvania-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Rhode Island</div>
            <div id="RhodeIsland-slot-0" class="placeholder">Loading...</div>
            <div id="RhodeIsland-slot-1" class="placeholder">Loading...</div>
            <div id="RhodeIsland-slot-2" class="placeholder">Loading...</div>
            <div id="RhodeIsland-slot-3" class="placeholder">Loading...</div>
            <div id="RhodeIsland-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">South Carolina</div>
            <div id="SouthCarolina-slot-0" class="placeholder">Loading...</div>
            <div id="SouthCarolina-slot-1" class="placeholder">Loading...</div>
            <div id="SouthCarolina-slot-2" class="placeholder">Loading...</div>
            <div id="SouthCarolina-slot-3" class="placeholder">Loading...</div>
            <div id="SouthCarolina-slot-4" class="placeholder">Loading...</div>
          </div>
        </div>
        <div class="row">
          <div class="state">
            <div class="state-name">South Dakota</div>
            <div id="SouthDakota-slot-0" class="placeholder">Loading...</div>
            <div id="SouthDakota-slot-1" class="placeholder">Loading...</div>
            <div id="SouthDakota-slot-2" class="placeholder">Loading...</div>
            <div id="SouthDakota-slot-3" class="placeholder">Loading...</div>
            <div id="SouthDakota-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Tennessee</div>
            <div id="Tennessee-slot-0" class="placeholder">Loading...</div>
            <div id="Tennessee-slot-1" class="placeholder">Loading...</div>
            <div id="Tennessee-slot-2" class="placeholder">Loading...</div>
            <div id="Tennessee-slot-3" class="placeholder">Loading...</div>
            <div id="Tennessee-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Texas</div>
            <div id="Texas-slot-0" class="placeholder">Loading...</div>
            <div id="Texas-slot-1" class="placeholder">Loading...</div>
            <div id="Texas-slot-2" class="placeholder">Loading...</div>
            <div id="Texas-slot-3" class="placeholder">Loading...</div>
            <div id="Texas-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Utah</div>
            <div id="Utah-slot-0" class="placeholder">Loading...</div>
            <div id="Utah-slot-1" class="placeholder">Loading...</div>
            <div id="Utah-slot-2" class="placeholder">Loading...</div>
            <div id="Utah-slot-3" class="placeholder">Loading...</div>
            <div id="Utah-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Vermont</div>
            <div id="Vermont-slot-0" class="placeholder">Loading...</div>
            <div id="Vermont-slot-1" class="placeholder">Loading...</div>
            <div id="Vermont-slot-2" class="placeholder">Loading...</div>
            <div id="Vermont-slot-3" class="placeholder">Loading...</div>
            <div id="Vermont-slot-4" class="placeholder">Loading...</div>
          </div>
        </div>
        <div class="row">
          <div class="state">
            <div class="state-name">Virginia</div>
            <div id="Virginia-slot-0" class="placeholder">Loading...</div>
            <div id="Virginia-slot-1" class="placeholder">Loading...</div>
            <div id="Virginia-slot-2" class="placeholder">Loading...</div>
            <div id="Virginia-slot-3" class="placeholder">Loading...</div>
            <div id="Virginia-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Washington</div>
            <div id="Washington-slot-0" class="placeholder">Loading...</div>
            <div id="Washington-slot-1" class="placeholder">Loading...</div>
            <div id="Washington-slot-2" class="placeholder">Loading...</div>
            <div id="Washington-slot-3" class="placeholder">Loading...</div>
            <div id="Washington-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">West Virginia</div>
            <div id="WestVirginia-slot-0" class="placeholder">Loading...</div>
            <div id="WestVirginia-slot-1" class="placeholder">Loading...</div>
            <div id="WestVirginia-slot-2" class="placeholder">Loading...</div>
            <div id="WestVirginia-slot-3" class="placeholder">Loading...</div>
            <div id="WestVirginia-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Wisconsin</div>
            <div id="Wisconsin-slot-0" class="placeholder">Loading...</div>
            <div id="Wisconsin-slot-1" class="placeholder">Loading...</div>
            <div id="Wisconsin-slot-2" class="placeholder">Loading...</div>
            <div id="Wisconsin-slot-3" class="placeholder">Loading...</div>
            <div id="Wisconsin-slot-4" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Wyoming</div>
            <div id="Wyoming-slot-0" class="placeholder">Loading...</div>
            <div id="Wyoming-slot-1" class="placeholder">Loading...</div>
            <div id="Wyoming-slot-2" class="placeholder">Loading...</div>
            <div id="Wyoming-slot-3" class="placeholder">Loading...</div>
            <div id="Wyoming-slot-4" class="placeholder">Loading...</div>
          </div>
        </div>

        <h2>South America</h2>
        <h3>Argentina: Provincias</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Buenos Aires</div>
            <div id="Buenos Aires-slot-0" class="placeholder">Loading...</div>
            <div id="Buenos Aires-slot-1" class="placeholder">Loading...</div>
            <div id="Buenos Aires-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Córdoba</div>
            <div id="Córdoba-slot-0" class="placeholder">Loading...</div>
            <div id="Córdoba-slot-1" class="placeholder">Loading...</div>
            <div id="Córdoba-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Santa Fe</div>
            <div id="Santa Fe-slot-0" class="placeholder">Loading...</div>
            <div id="Santa Fe-slot-1" class="placeholder">Loading...</div>
            <div id="Santa Fe-slot-2" class="placeholder">Loading...</div>
          </div>
        </div>
        <h3>Brazil: Estados</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">São Paulo</div>
            <div id="São Paulo-slot-0" class="placeholder">Loading...</div>
            <div id="São Paulo-slot-1" class="placeholder">Loading...</div>
            <div id="São Paulo-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Rio de Janeiro</div>
            <div id="Rio de Janeiro-slot-0" class="placeholder">Loading...</div>
            <div id="Rio de Janeiro-slot-1" class="placeholder">Loading...</div>
            <div id="Rio de Janeiro-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Minas Gerais</div>
            <div id="Minas Gerais-slot-0" class="placeholder">Loading...</div>
            <div id="Minas Gerais-slot-1" class="placeholder">Loading...</div>
            <div id="Minas Gerais-slot-2" class="placeholder">Loading...</div>
          </div>
        </div>
        <h3>Chile: Regiones</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Región Metropolitana</div>
            <div id="Región Metropolitana-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Región Metropolitana-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Región Metropolitana-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          <div class="state">
            <div class="state-name">Valparaíso</div>
            <div id="Valparaíso-slot-0" class="placeholder">Loading...</div>
            <div id="Valparaíso-slot-1" class="placeholder">Loading...</div>
            <div id="Valparaíso-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Biobío</div>
            <div id="Biobío-slot-0" class="placeholder">Loading...</div>
            <div id="Biobío-slot-1" class="placeholder">Loading...</div>
            <div id="Biobío-slot-2" class="placeholder">Loading...</div>
          </div>
        </div>
        <h3>Colombia: Departamentos</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Bogotá D.C.</div>
            <div id="Bogotá D.C.-slot-0" class="placeholder">Loading...</div>
            <div id="Bogotá D.C.-slot-1" class="placeholder">Loading...</div>
            <div id="Bogotá D.C.-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Antioquia</div>
            <div id="Antioquia-slot-0" class="placeholder">Loading...</div>
            <div id="Antioquia-slot-1" class="placeholder">Loading...</div>
            <div id="Antioquia-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Valle del Cauca</div>
            <div id="Valle del Cauca-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Valle del Cauca-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Valle del Cauca-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
        </div>

        <h2>Europe</h2>
        <h3>France: Régions</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Île-de-France</div>
            <div id="Île-de-France-slot-0" class="placeholder">Loading...</div>
            <div id="Île-de-France-slot-1" class="placeholder">Loading...</div>
            <div id="Île-de-France-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Bretagne</div>
            <div id="Bretagne-slot-0" class="placeholder">Loading...</div>
            <div id="Bretagne-slot-1" class="placeholder">Loading...</div>
            <div id="Bretagne-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Provence-Alpes-Côte d’Azur</div>
            <div id="Provence-Alpes-Côte d’Azur-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Provence-Alpes-Côte d’Azur-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Provence-Alpes-Côte d’Azur-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          <div class="state">
            <div class="state-name">Auvergne-Rhône-Alpes</div>
            <div id="Auvergne-Rhône-Alpes-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Auvergne-Rhône-Alpes-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Auvergne-Rhône-Alpes-slot-2" class="placeholder">
              Loading...
            </div>
          </div>

          <div class="state">
            <div class="state-name">Bourgogne-Franche-Comté</div>
            <div id="Bourgogne-Franche-Comté-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Bourgogne-Franche-Comté-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Bourgogne-Franche-Comté-slot-2" class="placeholder">
              Loading...
            </div>
          </div>

          <div class="state">
            <div class="state-name">Centre-Val de Loire</div>
            <div id="Centre-Val de Loire-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Centre-Val de Loire-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Centre-Val de Loire-slot-2" class="placeholder">
              Loading...
            </div>
          </div>

          <div class="state">
            <div class="state-name">Corse</div>
            <div id="Corse-slot-0" class="placeholder">Loading...</div>
            <div id="Corse-slot-1" class="placeholder">Loading...</div>
            <div id="Corse-slot-2" class="placeholder">Loading...</div>
          </div>

          <div class="state">
            <div class="state-name">Grand Est</div>
            <div id="Grand Est-slot-0" class="placeholder">Loading...</div>
            <div id="Grand Est-slot-1" class="placeholder">Loading...</div>
            <div id="Grand Est-slot-2" class="placeholder">Loading...</div>
          </div>

          <div class="state">
            <div class="state-name">Hauts-de-France</div>
            <div id="Hauts-de-France-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Hauts-de-France-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Hauts-de-France-slot-2" class="placeholder">
              Loading...
            </div>
          </div>

          <div class="state">
            <div class="state-name">Normandie</div>
            <div id="Normandie-slot-0" class="placeholder">Loading...</div>
            <div id="Normandie-slot-1" class="placeholder">Loading...</div>
            <div id="Normandie-slot-2" class="placeholder">Loading...</div>
          </div>

          <div class="state">
            <div class="state-name">Nouvelle-Aquitaine</div>
            <div id="Nouvelle-Aquitaine-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Nouvelle-Aquitaine-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Nouvelle-Aquitaine-slot-2" class="placeholder">
              Loading...
            </div>
          </div>

          <div class="state">
            <div class="state-name">Occitanie</div>
            <div id="Occitanie-slot-0" class="placeholder">Loading...</div>
            <div id="Occitanie-slot-1" class="placeholder">Loading...</div>
            <div id="Occitanie-slot-2" class="placeholder">Loading...</div>
          </div>

          <div class="state">
            <div class="state-name">Pays de la Loire</div>
            <div id="Pays de la Loire-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Pays de la Loire-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Pays de la Loire-slot-2" class="placeholder">
              Loading...
            </div>
          </div>

          Overseas Regions

          <div class="state">
            <div class="state-name">Guadeloupe</div>
            <div id="Guadeloupe-slot-0" class="placeholder">Loading...</div>
            <div id="Guadeloupe-slot-1" class="placeholder">Loading...</div>
            <div id="Guadeloupe-slot-2" class="placeholder">Loading...</div>
          </div>

          <div class="state">
            <div class="state-name">Martinique</div>
            <div id="Martinique-slot-0" class="placeholder">Loading...</div>
            <div id="Martinique-slot-1" class="placeholder">Loading...</div>
            <div id="Martinique-slot-2" class="placeholder">Loading...</div>
          </div>

          <div class="state">
            <div class="state-name">Guyane</div>
            <div id="Guyane-slot-0" class="placeholder">Loading...</div>
            <div id="Guyane-slot-1" class="placeholder">Loading...</div>
            <div id="Guyane-slot-2" class="placeholder">Loading...</div>
          </div>

          <div class="state">
            <div class="state-name">La Réunion</div>
            <div id="La Réunion-slot-0" class="placeholder">Loading...</div>
            <div id="La Réunion-slot-1" class="placeholder">Loading...</div>
            <div id="La Réunion-slot-2" class="placeholder">Loading...</div>
          </div>

          <div class="state">
            <div class="state-name">Mayotte</div>
            <div id="Mayotte-slot-0" class="placeholder">Loading...</div>
            <div id="Mayotte-slot-1" class="placeholder">Loading...</div>
            <div id="Mayotte-slot-2" class="placeholder">Loading...</div>
          </div>
        </div>

        <h3>Germany: Bundesländer</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Bavaria</div>
            <div id="Bavaria-slot-0" class="placeholder">Loading...</div>
            <div id="Bavaria-slot-1" class="placeholder">Loading...</div>
            <div id="Bavaria-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Baden-Württemberg</div>
            <div id="Baden-Württemberg-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Baden-Württemberg-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Baden-Württemberg-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          <div class="state">
            <div class="state-name">North Rhine-Westphalia</div>
            <div id="North Rhine-Westphalia-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="North Rhine-Westphalia-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="North Rhine-Westphalia-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          Add similar blocks for the remaining 13 federal states
        </div>

        <h3>Italy: Regioni</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Lombardy</div>
            <div id="Lombardy-slot-0" class="placeholder">Loading...</div>
            <div id="Lombardy-slot-1" class="placeholder">Loading...</div>
            <div id="Lombardy-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Lazio</div>
            <div id="Lazio-slot-0" class="placeholder">Loading...</div>
            <div id="Lazio-slot-1" class="placeholder">Loading...</div>
            <div id="Lazio-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Sicily</div>
            <div id="Sicily-slot-0" class="placeholder">Loading...</div>
            <div id="Sicily-slot-1" class="placeholder">Loading...</div>
            <div id="Sicily-slot-2" class="placeholder">Loading...</div>
          </div>
          Add similar blocks for the other 17 regions
        </div>

        <h3>Spain: Comunidades Autónomas</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Catalonia</div>
            <div id="Catalonia-slot-0" class="placeholder">Loading...</div>
            <div id="Catalonia-slot-1" class="placeholder">Loading...</div>
            <div id="Catalonia-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Andalusia</div>
            <div id="Andalusia-slot-0" class="placeholder">Loading...</div>
            <div id="Andalusia-slot-1" class="placeholder">Loading...</div>
            <div id="Andalusia-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Madrid</div>
            <div id="Madrid-slot-0" class="placeholder">Loading...</div>
            <div id="Madrid-slot-1" class="placeholder">Loading...</div>
            <div id="Madrid-slot-2" class="placeholder">Loading...</div>
          </div>
          Add the other 14 regions in similar fashion
        </div>

        <h2>Eastern Europe</h2>
        <h3>Poland: Województwa</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Mazowieckie</div>
            <div id="Mazowieckie-slot-0" class="placeholder">Loading...</div>
            <div id="Mazowieckie-slot-1" class="placeholder">Loading...</div>
            <div id="Mazowieckie-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Małopolskie</div>
            <div id="Małopolskie-slot-0" class="placeholder">Loading...</div>
            <div id="Małopolskie-slot-1" class="placeholder">Loading...</div>
            <div id="Małopolskie-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Śląskie</div>
            <div id="Śląskie-slot-0" class="placeholder">Loading...</div>
            <div id="Śląskie-slot-1" class="placeholder">Loading...</div>
            <div id="Śląskie-slot-2" class="placeholder">Loading...</div>
          </div>
          Continue for other voivodeships
        </div>
        <h3>Czech Republic: Kraje</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Prague</div>
            <div id="Prague-slot-0" class="placeholder">Loading...</div>
            <div id="Prague-slot-1" class="placeholder">Loading...</div>
            <div id="Prague-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">South Moravian</div>
            <div id="South Moravian-slot-0" class="placeholder">Loading...</div>
            <div id="South Moravian-slot-1" class="placeholder">Loading...</div>
            <div id="South Moravian-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Moravian-Silesian</div>
            <div id="Moravian-Silesian-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Moravian-Silesian-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Moravian-Silesian-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          Continue for other regions
        </div>
        <h3>Hungary: Régiók</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Central Hungary</div>
            <div id="Central Hungary-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Central Hungary-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Central Hungary-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          <div class="state">
            <div class="state-name">Central Transdanubia</div>
            <div id="Central Transdanubia-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Central Transdanubia-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Central Transdanubia-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          <div class="state">
            <div class="state-name">Southern Great Plain</div>
            <div id="Southern Great Plain-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Southern Great Plain-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Southern Great Plain-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          Continue for other regions
        </div>
        <h3>Romania: Regiuni</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Bucharest-Ilfov</div>
            <div id="Bucharest-Ilfov-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Bucharest-Ilfov-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Bucharest-Ilfov-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          <div class="state">
            <div class="state-name">North-West</div>
            <div id="North-West-slot-0" class="placeholder">Loading...</div>
            <div id="North-West-slot-1" class="placeholder">Loading...</div>
            <div id="North-West-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Centre</div>
            <div id="Centre-slot-0" class="placeholder">Loading...</div>
            <div id="Centre-slot-1" class="placeholder">Loading...</div>
            <div id="Centre-slot-2" class="placeholder">Loading...</div>
          </div>
          Continue for other regions
        </div>
        <h3>Bulgaria: Planning Regions</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Sofia</div>
            <div id="Sofia-slot-0" class="placeholder">Loading...</div>
            <div id="Sofia-slot-1" class="placeholder">Loading...</div>
            <div id="Sofia-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Plovdiv</div>
            <div id="Plovdiv-slot-0" class="placeholder">Loading...</div>
            <div id="Plovdiv-slot-1" class="placeholder">Loading...</div>
            <div id="Plovdiv-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Varna</div>
            <div id="Varna-slot-0" class="placeholder">Loading...</div>
            <div id="Varna-slot-1" class="placeholder">Loading...</div>
            <div id="Varna-slot-2" class="placeholder">Loading...</div>
          </div>
          Continue for other regions
        </div>

        <h2>Russia: Regional News</h2>
        <div class="row">
          <div class="state">
            <div class="state-name">Moscow City</div>
            <div id="Moscow City-slot-0" class="placeholder">Loading...</div>
            <div id="Moscow City-slot-1" class="placeholder">Loading...</div>
            <div id="Moscow City-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Saint Petersburg</div>
            <div id="Saint Petersburg-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Saint Petersburg-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Saint Petersburg-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          <div class="state">
            <div class="state-name">Krasnodar Krai</div>
            <div id="Krasnodar Krai-slot-0" class="placeholder">Loading...</div>
            <div id="Krasnodar Krai-slot-1" class="placeholder">Loading...</div>
            <div id="Krasnodar Krai-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Sverdlovsk Oblast</div>
            <div id="Sverdlovsk Oblast-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Sverdlovsk Oblast-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Sverdlovsk Oblast-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          <div class="state">
            <div class="state-name">Tatarstan</div>
            <div id="Tatarstan-slot-0" class="placeholder">Loading...</div>
            <div id="Tatarstan-slot-1" class="placeholder">Loading...</div>
            <div id="Tatarstan-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Nizhny Novgorod Oblast</div>
            <div id="Nizhny Novgorod Oblast-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Nizhny Novgorod Oblast-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Nizhny Novgorod Oblast-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          <div class="state">
            <div class="state-name">Novosibirsk Oblast</div>
            <div id="Novosibirsk Oblast-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Novosibirsk Oblast-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Novosibirsk Oblast-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          <div class="state">
            <div class="state-name">Primorsky Krai</div>
            <div id="Primorsky Krai-slot-0" class="placeholder">Loading...</div>
            <div id="Primorsky Krai-slot-1" class="placeholder">Loading...</div>
            <div id="Primorsky Krai-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Rostov Oblast</div>
            <div id="Rostov Oblast-slot-0" class="placeholder">Loading...</div>
            <div id="Rostov Oblast-slot-1" class="placeholder">Loading...</div>
            <div id="Rostov Oblast-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Sakha</div>
            <div id="Sakha-slot-0" class="placeholder">Loading...</div>
            <div id="Sakha-slot-1" class="placeholder">Loading...</div>
            <div id="Sakha-slot-2" class="placeholder">Loading...</div>
          </div>
        </div>

        <h2>Africa</h2>
        <h3>Nigeria: States</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Lagos</div>
            <div id="Lagos-slot-0" class="placeholder">Loading...</div>
            <div id="Lagos-slot-1" class="placeholder">Loading...</div>
            <div id="Lagos-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Kano</div>
            <div id="Kano-slot-0" class="placeholder">Loading...</div>
            <div id="Kano-slot-1" class="placeholder">Loading...</div>
            <div id="Kano-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Rivers</div>
            <div id="Rivers-slot-0" class="placeholder">Loading...</div>
            <div id="Rivers-slot-1" class="placeholder">Loading...</div>
            <div id="Rivers-slot-2" class="placeholder">Loading...</div>
          </div>
        </div>

        <h3>South Africa: Provinces</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Gauteng</div>
            <div id="Gauteng-slot-0" class="placeholder">Loading...</div>
            <div id="Gauteng-slot-1" class="placeholder">Loading...</div>
            <div id="Gauteng-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Western Cape</div>
            <div id="Western Cape-slot-0" class="placeholder">Loading...</div>
            <div id="Western Cape-slot-1" class="placeholder">Loading...</div>
            <div id="Western Cape-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">KwaZulu-Natal</div>
            <div id="KwaZulu-Natal-slot-0" class="placeholder">Loading...</div>
            <div id="KwaZulu-Natal-slot-1" class="placeholder">Loading...</div>
            <div id="KwaZulu-Natal-slot-2" class="placeholder">Loading...</div>
          </div>
        </div>

        <h3>Egypt: Governorates</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Cairo</div>
            <div id="Cairo-slot-0" class="placeholder">Loading...</div>
            <div id="Cairo-slot-1" class="placeholder">Loading...</div>
            <div id="Cairo-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Alexandria</div>
            <div id="Alexandria-slot-0" class="placeholder">Loading...</div>
            <div id="Alexandria-slot-1" class="placeholder">Loading...</div>
            <div id="Alexandria-slot-2" class="placeholder">Loading...</div>
          </div>
        </div>

        <h3>Kenya: Counties</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Nairobi</div>
            <div id="Nairobi-slot-0" class="placeholder">Loading...</div>
            <div id="Nairobi-slot-1" class="placeholder">Loading...</div>
            <div id="Nairobi-slot-2" class="placeholder">Loading...</div>
          </div>
          <div class="state">
            <div class="state-name">Mombasa</div>
            <div id="Mombasa-slot-0" class="placeholder">Loading...</div>
            <div id="Mombasa-slot-1" class="placeholder">Loading...</div>
            <div id="Mombasa-slot-2" class="placeholder">Loading...</div>
          </div>
        </div>

        <h3>Morocco: Regions</h3>
        <div class="row">
          <div class="state">
            <div class="state-name">Casablanca-Settat</div>
            <div id="Casablanca-Settat-slot-0" class="placeholder">
              Loading...
            </div>
            <div id="Casablanca-Settat-slot-1" class="placeholder">
              Loading...
            </div>
            <div id="Casablanca-Settat-slot-2" class="placeholder">
              Loading...
            </div>
          </div>
          <div class="state">
            <div class="state-name">Marrakesh-Safi</div>
            <div id="Marrakesh-Safi-slot-0" class="placeholder">Loading...</div>
            <div id="Marrakesh-Safi-slot-1" class="placeholder">Loading...</div>
            <div id="Marrakesh-Safi-slot-2" class="placeholder">Loading...</div>
          </div>
        </div>
      </div>
    </div>

    -->

    <!-- jQuery and Raphael required -->
    <script></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-mapael@2.2.0/js/jquery.mapael.min.js"></script>
    <!-- Load your map, e.g., USA -->
    <script src="https://cdn.jsdelivr.net/npm/jquery-mapael@2.2.0/js/maps/usa_states.js"></script>

    <script>
      const feedlist = [];
      const apiKey = "rm9pbggtpbdaqdscdbfoig5ro0busxffatbr5vlq"; // Replace with your real key
      function searchNews(keyword) {
        const matchedStates = [];
        const feedlist = [];
        let states = [];
        Object.keys(articlesByFeed).forEach((feedKey) => {
          const articles = articlesByFeed[feedKey] || [];
          articles.forEach((article) => {
            if (article.title.toLowerCase().includes(keyword.toLowerCase())) {
              feedlist.push({
                title: article.title,
                link: article.link,
                state: feedKey,
              });
              matchedStates.push(feedKey);
            }
          });
        });
        console.log("Matched States:", keyword);

        const stateSelect = document.getElementById("state");

        stateSelect.innerHTML = "";

        const defaultOption = document.createElement("option");
        defaultOption.textContent = "Select a state";
        defaultOption.value = "all";
        stateSelect.appendChild(defaultOption);
        flashStates(matchedStates);
        Object.values(matchedStates).forEach((stateName) => {
          states.push(stateName.replace(/[^a-zA-Z\s]/g, ""));
        });
        states = [...new Set(states)];
        Object.values(states).forEach((stateName) => {
          const option = document.createElement("option");
          option.value = stateName;
          option.textContent = stateName;
          stateSelect.appendChild(option);
        });
        const ul = document.getElementById("news-list");

        document.querySelector(".dropdown-container").style.display =
          feedlist.length !== 0 ? "block" : "none";

        document.getElementById("news-list").style.display =
          feedlist.length !== 0 ? "block" : "none";

        // Clear previous content
        ul.innerHTML = "";

        // Display results
        feedlist.forEach(({ title, link, state }) => {
          const li = document.createElement("li");
          //li.textContent = `${title} -- ${state}`;
          li.innerHTML = `<a href="${link}" target="_blank">${title} -- ${state}</a>`;
          ul.appendChild(li);
        });
        document
          .getElementById("state")
          .addEventListener("change", function () {
            const selectedState = this.value;
            const displayState = [];
            if (selectedState !== "all") {
              console.log("Selected State:", selectedState);
              feedlist.forEach((element) => {
                if (element.state.includes(selectedState)) {
                  displayState.push(element);
                }
              });
              const ul = document.getElementById("news-list");
              ul.innerHTML = "";

              displayState.forEach((article) => {
                const li = document.createElement("li");
                //li.textContent = `${article.title} -- ${article.state}`;
                li.innerHTML = `<a href="${article.link}" target="_blank">${article.title} -- ${article.state}</a>`;
                ul.appendChild(li);
              });
            } else {
              searchNews(keyword);
            }
          });
      }

      const stateToId = {
        Alabama: "AL",
        Alaska: "AK",
        Arizona: "AZ",
        Arkansas: "AR",
        California: "CA",
        Colorado: "CO",
        Connecticut: "CT",
        Delaware: "DE",
        Florida: "FL",
        Georgia: "GA",
        Hawaii: "HI",
        Idaho: "ID",
        Illinois: "IL",
        Indiana: "IN",
        Iowa: "IA",
        Kansas: "KS",
        Kentucky: "KY",
        Louisiana: "LA",
        Maine: "ME",
        Maryland: "MD",
        Massachusetts: "MA",
        Michigan: "MI",
        Minnesota: "MN",
        Mississippi: "MS",
        Missouri: "MO",
        Montana: "MT",
        Nebraska: "NE",
        Nevada: "NV",
        NewHampshire: "NH",
        NewJersey: "NJ",
        NewMexico: "NM",
        NewYork: "NY",
        NorthCarolina: "NC",
        NorthDakota: "ND",
        Ohio: "OH",
        Oklahoma: "OK",
        Oregon: "OR",
        Pennsylvania: "PA",
        RhodeIsland: "RI",
        SouthCarolina: "SC",
        SouthDakota: "SD",
        Tennessee: "TN",
        Texas: "TX",
        Utah: "UT",
        Vermont: "VT",
        Virginia: "VA",
        Washington: "WA",
        "West Virginia": "WV",
        Wisconsin: "WI",
        Wyoming: "WY",
      };
      function Trigger() {
        const input = document.getElementById("search-bar").value.trim();
        if (!input) return;

        const spinner = document.getElementById("loading-spinner");
        spinner.style.display = "inline";

        // Simulate async task
        setTimeout(() => {
          const keyword = document.getElementById("search-bar").value.trim();
          if (keyword) {
            searchNews(keyword);
          } // Replace this with your real logic
          spinner.style.display = "none";
        }, 1000);
      }

      function handleKeyPress(event) {
        if (event.key === "Enter") {
          Trigger();
        }
      }

      function clearSearch() {
        document.getElementById("search-bar").value = "";
        document.getElementById("search-bar").focus();
        document.getElementById("news-list").style.display = "none";
        document.querySelector(".dropdown-container").style.display = "none";
        stopFlashing();
      }

      const areas_default = {
        AL: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Alabama" },
          eventHandlers: {
            click: () => {
              console.log("AL clicked");
              loadNewsFeed("AL");
            },
          },
        },
        AK: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Alaska" },
          eventHandlers: {
            click: () => {
              console.log("AK clicked");
              loadNewsFeed("AK");
            },
          },
        },
        AZ: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Arizona" },
          eventHandlers: {
            click: () => {
              console.log("AZ clicked");
              loadNewsFeed("AZ");
            },
          },
        },
        AR: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Arkansas" },
          eventHandlers: {
            click: () => {
              console.log("AR clicked");
              loadNewsFeed("AR");
            },
          },
        },
        CA: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "California" },
          eventHandlers: {
            click: () => {
              console.log("CA clicked");
              loadNewsFeed("CA");
            },
          },
        },
        CO: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Colorado" },
          eventHandlers: {
            click: () => {
              console.log("CO clicked");
              loadNewsFeed("CO");
            },
          },
        },
        CT: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Connecticut" },
          eventHandlers: {
            click: () => {
              console.log("CT clicked");
              loadNewsFeed("CT");
            },
          },
        },
        DE: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Delaware" },
          eventHandlers: {
            click: () => {
              console.log("DE clicked");
              loadNewsFeed("DE");
            },
          },
        },
        FL: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Florida" },
          eventHandlers: {
            click: () => {
              console.log("FL clicked");
              loadNewsFeed("FL");
            },
          },
        },
        GA: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Georgia" },
          eventHandlers: {
            click: () => {
              console.log("GA clicked");
              loadNewsFeed("GA");
            },
          },
        },
        HI: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Hawaii" },
          eventHandlers: {
            click: () => {
              console.log("HI clicked");
              loadNewsFeed("HI");
            },
          },
        },
        ID: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Idaho" },
          eventHandlers: {
            click: () => {
              console.log("ID clicked");
              loadNewsFeed("ID");
            },
          },
        },
        IL: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Illinois" },
          eventHandlers: {
            click: () => {
              console.log("IL clicked");
              loadNewsFeed("IL");
            },
          },
        },
        IN: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Indiana" },
          eventHandlers: {
            click: () => {
              console.log("IN clicked");
              loadNewsFeed("IN");
            },
          },
        },
        IA: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Iowa" },
          eventHandlers: {
            click: () => {
              console.log("IA clicked");
              loadNewsFeed("IA");
            },
          },
        },
        KS: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Kansas" },
          eventHandlers: {
            click: () => {
              console.log("KS clicked");
              loadNewsFeed("KS");
            },
          },
        },
        KY: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Kentucky" },
          eventHandlers: {
            click: () => {
              console.log("KY clicked");
              loadNewsFeed("KY");
            },
          },
        },
        LA: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Louisiana" },
          eventHandlers: {
            click: () => {
              console.log("LA clicked");
              loadNewsFeed("LA");
            },
          },
        },
        ME: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Maine" },
          eventHandlers: {
            click: () => {
              console.log("ME clicked");
              loadNewsFeed("ME");
            },
          },
        },
        MD: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Maryland" },
          eventHandlers: {
            click: () => {
              console.log("MD clicked");
              loadNewsFeed("MD");
            },
          },
        },
        MA: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Massachusetts" },
          eventHandlers: {
            click: () => {
              console.log("MA clicked");
              loadNewsFeed("MA");
            },
          },
        },
        MI: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Michigan" },
          eventHandlers: {
            click: () => {
              console.log("MI clicked");
              loadNewsFeed("MI");
            },
          },
        },
        MN: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Minnesota" },
          eventHandlers: {
            click: () => {
              console.log("MN clicked");
              loadNewsFeed("MN");
            },
          },
        },
        MS: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Mississippi" },
          eventHandlers: {
            click: () => {
              console.log("MS clicked");
              loadNewsFeed("MS");
            },
          },
        },
        MO: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Missouri" },
          eventHandlers: {
            click: () => {
              console.log("MO clicked");
              loadNewsFeed("MO");
            },
          },
        },
        MT: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Montana" },
          eventHandlers: {
            click: () => {
              console.log("MT clicked");
              loadNewsFeed("MT");
            },
          },
        },
        NE: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Nebraska" },
          eventHandlers: {
            click: () => {
              console.log("NE clicked");
              loadNewsFeed("NE");
            },
          },
        },
        NV: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Nevada" },
          eventHandlers: {
            click: () => {
              console.log("NV clicked");
              loadNewsFeed("NV");
            },
          },
        },
        NH: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "New Hampshire" },
          eventHandlers: {
            click: () => {
              console.log("NH clicked");
              loadNewsFeed("NH");
            },
          },
        },
        NJ: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "New Jersey" },
          eventHandlers: {
            click: () => {
              console.log("NJ clicked");
              loadNewsFeed("NJ");
            },
          },
        },
        NM: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "New Mexico" },
          eventHandlers: {
            click: () => {
              console.log("NM clicked");
              loadNewsFeed("NM");
            },
          },
        },
        NY: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "New York" },
          eventHandlers: {
            click: () => {
              console.log("NY clicked");
              loadNewsFeed("NY");
            },
          },
        },
        NC: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "North Carolina" },
          eventHandlers: {
            click: () => {
              console.log("NC clicked");
              loadNewsFeed("NC");
            },
          },
        },
        ND: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "North Dakota" },
          eventHandlers: {
            click: () => {
              console.log("ND clicked");
              loadNewsFeed("ND");
            },
          },
        },
        OH: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Ohio" },
          eventHandlers: {
            click: () => {
              console.log("OH clicked");
              loadNewsFeed("OH");
            },
          },
        },
        OK: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Oklahoma" },
          eventHandlers: {
            click: () => {
              console.log("OK clicked");
              loadNewsFeed("OK");
            },
          },
        },
        OR: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Oregon" },
          eventHandlers: {
            click: () => {
              console.log("OR clicked");
              loadNewsFeed("OR");
            },
          },
        },
        PA: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Pennsylvania" },
          eventHandlers: {
            click: () => {
              console.log("PA clicked");
              loadNewsFeed("PA");
            },
          },
        },
        RI: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Rhode Island" },
          eventHandlers: {
            click: () => {
              console.log("RI clicked");
              loadNewsFeed("RI");
            },
          },
        },
        SC: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "South Carolina" },
          eventHandlers: {
            click: () => {
              console.log("SC clicked");
              loadNewsFeed("SC");
            },
          },
        },
        SD: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "South Dakota" },
          eventHandlers: {
            click: () => {
              console.log("SD clicked");
              loadNewsFeed("SD");
            },
          },
        },
        TN: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Tennessee" },
          eventHandlers: {
            click: () => {
              console.log("TN clicked");
              loadNewsFeed("TN");
            },
          },
        },
        TX: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Texas" },
          eventHandlers: {
            click: () => {
              console.log("TX clicked");
              loadNewsFeed("TX");
            },
          },
        },
        UT: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Utah" },
          eventHandlers: {
            click: () => {
              console.log("UT clicked");
              loadNewsFeed("UT");
            },
          },
        },
        VT: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Vermont" },
          eventHandlers: {
            click: () => {
              console.log("VT clicked");
              loadNewsFeed("VT");
            },
          },
        },
        VA: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Virginia" },
          eventHandlers: {
            click: () => {
              console.log("VA clicked");
              loadNewsFeed("VA");
            },
          },
        },
        WA: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Washington" },
          eventHandlers: {
            click: () => {
              console.log("WA clicked");
              loadNewsFeed("WA");
            },
          },
        },
        WV: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "West Virginia" },
          eventHandlers: {
            click: () => {
              console.log("WV clicked");
              loadNewsFeed("WV");
            },
          },
        },
        WI: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Wisconsin" },
          eventHandlers: {
            click: () => {
              console.log("WI clicked");
              loadNewsFeed("WI");
            },
          },
        },
        WY: {
          attrs: { fill: "#6baed6" },
          tooltip: { content: "Wyoming" },
          eventHandlers: {
            click: () => {
              console.log("WY clicked");
              loadNewsFeed("WY");
            },
          },
        },
      };
      document
        .getElementById("search-bar")
        .addEventListener("input", function (e) {
          if (e.target.value.trim() === "") {
            stopFlashing();
            document.getElementById("news-list").style.display = "none";
            document.querySelector(".dropdown-container").style.display =
              "none";
          }
        });
      const getAreaIdFromName = (stateAbbr) => {
        return stateToId[stateAbbr.replace(/[^a-zA-Z\s]/g, "")];
      };
      let flashIntervalId = null;

      function flashStates(stateList) {
        stopFlashing(); // Stop any previous flashing before starting new

        const areaIds = stateList.map((state) => getAreaIdFromName(state));
        console.log(stateList);
        console.log(areaIds);
        let isHighlighted = false;

        flashIntervalId = setInterval(() => {
          const fillColor = isHighlighted ? "#6baed6" : "#ff0000";

          const areasUpdate = {};
          areaIds.forEach((areaId) => {
            areasUpdate[areaId] = { attrs: { fill: fillColor } };
          });

          $(".mapcontainer").trigger("update", [
            {
              mapOptions: { areas: areasUpdate },
            },
          ]);

          isHighlighted = !isHighlighted;
        }, 1500);
      }

      function stopFlashing() {
        if (flashIntervalId) {
          console.log("stop flashing");
          clearInterval(flashIntervalId);
          flashIntervalId = null;
          $(".mapcontainer").trigger("update", [
            {
              mapOptions: {
                areas: areas_default,
              },
            },
          ]);
        }
      }
      $(".mapcontainer").mapael({
        map: {
          name: "usa_states",
        },
        areas: areas_default,
      });

      const stateFeeds = {
        Alabama: [
          "https://alabamareflector.com/feed/",
          "https://www.whnt.com/feed/",
          "https://birminghamwatch.org/feed/",
          "https://yellowhammernews.com/feed/",
          "https://www.alabamanews.net/feed/",
        ],
        Alaska: [
          "https://seniorvoicealaska.com/rss",
          "https://nomenugget.net/rss.xml",
          "https://www.juneauempire.com/feed/",
          "https://www.ktoo.org/feed/",
          "https://alaskabeacon.com/feed/",
        ],
        Arizona: [
          "https://www.azmirror.com/feed/",
          "https://www.tucsonweekly.com/tucson/Rss.xml/feed",
          "https://azdailysun.com/search/?f=rss&t=article&c=news/local&l=50&s=start_time&sd=desc",
          "https://www.tucsonweekly.com/tucson/Rss.xml/feed",
          "https://www.inmaricopa.com/feed/",
        ],
        Arkansas: [
          "https://arkansasadvocate.com/feed/",
          "https://arktimes.com/feed",
          "https://www.arkansasonline.com/rss/headlines/news/",
          "https://www.arkansasbusiness.com/feed/",
          "https://talkbusiness.net/feed/",
        ],
        California: [
          "https://calmatters.org/feed/",
          "https://www.latimes.com/rss2.0.xml",
          "https://www.nbclosangeles.com/?rss=y",
          "https://www.mercurynews.com/feed/",
          "https://abc7news.com/rss",
        ],
        Colorado: [
          "https://coloradosun.com/feed/",
          "https://www.denver7.com/news/front-range/fort-collins.rss",
          "https://www.denverpost.com/feed/",
          "https://kdvr.com/feed/",
          "https://www.coloradopolitics.com/search/?f=rss&t=article&c=news",
        ],
        Connecticut: [
          "https://www.ctpost.com/rss/feed/News-1331.php",
          "https://ctnewsjunkie.com/feed/",
          "https://ctmirror.org/feed/",
          "https://www.stamfordadvocate.com/rss/feed/News-1443.php",
          "https://www.wtnh.com/feed/",
        ],
        Delaware: [
          "https://www.witn22.org/feed/",
          "https://delawarelive.com/feed/",
          "https://delawarefreenews.org/feed/",
          "https://witn22.org/feed",
          "https://delawarelive.com/feed",
        ],
        Florida: [
          "https://flvoicenews.com/feed/",
          "https://www.floridabulldog.org/feed/",
          "https://www.local10.com/arc/outboundfeeds/rss/category/news/?outputType=xml&size=10",
          "https://floridadaily.com/feed/",
          "https://floridapolitics.com/feed/",
        ],
        Georgia: [
          "https://georgiarecorder.com/feed/",
          "https://www.gainesvilletimes.com/rss/",
          "https://www.covnews.com/rss/",
          "https://www.wrganews.com/feed/",
          "https://georgiastatesignal.com/feed/",
        ],
        Hawaii: [
          "https://www.khon2.com/feed/",
          "https://feeds.feedburner.com/AllHawaiiNews",
          "https://www.civilbeat.org/feed/",
          "https://www.staradvertiser.com/feed/",
          "https://bigislandnow.com/feed/",
        ],
        Idaho: [
          "https://www.idahofallsidaho.gov/RSSFeed.aspx?ModID=1&CID=All-newsflash.xml",
          "https://www.eastidahonews.com/feed/",
          "https://www.idahocapitalsun.com/feed/",
          "https://www.kivitv.com/news/local-news.rss",
          "https://www.boisestatepublicradio.org/news.rss",
        ],
        Illinois: [
          "https://www.illinoistimes.com/springfield/Rss.xml",
          "https://wgntv.com/feed/",
          "https://capitolfax.com/feed/",
          "https://abc7chicago.com/rss",
          "https://chicago.suntimes.com/rss/index.xml",
        ],
        Indiana: [
          "https://indianacapitalchronicle.com/feed/",
          "https://fox59.com/feed/",
          "https://indypolitics.org/feed/",
          "https://www.wishtv.com/feed/",
          "https://www.nwitimes.com/search/?f=rss&t=article&c=news/local&l=50&s=start_time&sd=desc",
        ],
        Iowa: [
          "https://northiowatoday.com/feed/",
          "https://iowacapitaldispatch.com/feed/",
          "https://whotv.com/feed/",
          "https://iowastatedaily.com/feed/",
          "https://www.radioiowa.com/feed/",
        ],
        Kansas: [
          "https://kansasreflector.com/feed/",
          "https://www.ksnt.com/feed",
          "https://themercury.com/search/?f=rss&t=article&c=news",
          "https://www.ksn.com/feed/",
          "https://westernkansasnews.com/feed",
        ],
        Kentucky: [
          "https://lexingtonky.news/feed",
          "https://www.wtvq.com/feed",
          "https://www.wowktv.com/news/kentucky/feed",
          "https://wfpl.org/feed/",
          "https://kentuckylantern.com/feed/",
        ],
        Louisiana: [
          "https://www.myarklamiss.com/louisiana-news/feed/",
          "https://wgno.com/feed/",
          "https://feeds.feedburner.com/wbrz/news",
          "https://thelensnola.org/feed/",
          "https://www.katc.com/index.rss",
        ],
        Maine: [
          "https://www.centralmaine.com/feed/",
          "https://lcnme.com/feed/",
          "https://www.pressherald.com/news/feed/",
          "https://www.bangordailynews.com/feed/",
          "https://www.centralmaine.com/feed/",
        ],
        Maryland: [
          "https://thedailyrecord.com/feed/",
          "https://wtop.com/local/feed/",
          "https://www.marylandmatters.org/feed/",
          "https://smnewsnet.com/feed/",
          "https://www.wmar2news.com/news/local-news.rss",
        ],
        Massachusetts: [
          "https://www.boston.com/feed/",
          "https://whdh.com/feed/",
          "https://www.lowellsun.com/feed/",
          "https://southernmarylandchronicle.com/feed/",
          "https://framinghamsource.com/index.php/feed/",
        ],
        Michigan: [
          "https://www.metrotimes.com/detroit/Rss.xml",
          "https://www.bridgemi.com/rss.xml",
          "https://www.theoaklandpress.com/feed/",
          "https://michiganadvance.com/feed/",
          "https://www.wlns.com/news/michigan/feed/",
        ],
        Minnesota: [
          "https://minnesotareformer.com/feed/",
          "https://www.startribune.com/rss/",
          "https://bringmethenews.com/.rss/full/",
          "https://kstp.com/rss",
          "https://www.startribune.com/local/index.rss2",
        ],
        Mississippi: [
          "https://mississippitoday.org/feed/",
          "https://mississippitoday.org/feed/",
          "https://www.biloxinewsevents.com/feed/",
          "https://www.wjtv.com/feed/",
          "https://www.magnoliastatelive.com/feed/",
        ],
        Missouri: [
          "https://www.stltoday.com/search/?f=rss&c=news",
          "https://www.missourinet.com/feed/",
          "https://missouriindependent.com/feed/",
          "https://fox2now.com/feed/",
          "https://www.ozarksfirst.com/feed/",
        ],
        Montana: [
          "https://dailymontanan.com/feed/",
          "https://www.ktvq.com/news/local-news.rss",
          "https://www.kxlh.com/news/local-news.rss",
          "https://helenair.com/search/?f=rss",
          "https://www.kpax.com/news/local-news.rss",
        ],
        Nebraska: [
          "https://nebraskaexaminer.com/feed/",
          "https://journalstar.com/search/?f=rss&t=article&c=news*&l=25&s=start_time&sd=desc",
          "https://starherald.com/search/?f=rss&t=article&c=news",
          "https://columbustelegram.com/search/?f=rss&t=article&c=news",
          "https://norfolkdailynews.com/search/?f=rss&t=article&c=news",
        ],
        Nevada: [
          "https://thenevadaindependent.com/feed/",
          "https://www.8newsnow.com/feed/",
          "https://www.reviewjournal.com/feed/",
          "https://www.ktnv.com/news/local-news.rss",
          "https://mynews4.com/news/local.rss",
        ],
        NewHampshire: [
          "https://feeds.bignewsnetwork.com/category/7fc3ecac1bc98a90",
          "https://www.unionleader.com/search/?f=rss&c=news",
          "https://indepthnh.org/feed/",
          "https://whdh.com/news/local/new-hampshire/feed/",
          "https://newhampshirebulletin.com/feed/",
        ],
        NewJersey: [
          "https://newjerseyglobe.com/feed/",
          "https://www.njspotlightnews.org/feed/",
          "https://www.njtvonline.org/feed/",
          "https://www.nj1015.com/feed/",
          "https://njmonthly.com/feed/",
        ],
        NewMexico: [
          "https://nmpoliticalreport.com/feed/",
          "https://www.santafenewmexican.com/search/?f=rss",
          "https://www.krqe.com/feed/",
          "https://www.kob.com/rss",
          "https://krqe.com/feed/",
        ],
        NewYork: [
          "https://nypost.com/feed/",
          "https://www.nytimes.com/services/xml/rss/nyt/HomePage.xml",
          "https://abc7ny.com/feed/",
          "https://gothamist.com/feed/",
          "https://rss.nytimes.com/services/xml/rss/nyt/HomePage.xml",
        ],
        NorthCarolina: [
          "https://www.wral.com/news/rss/48/",
          "https://www.cbs17.com/news/north-carolina-news/feed/",
          "https://abc11.com/feed/",
          "https://www.wnct.com/news/north-carolina/feed/",
          "https://abc11.com/rss",
        ],
        NorthDakota: [
          "https://www.kxnet.com/feed/",
          "https://www.nytimes.com/svc/collections/v1/publish/https://www.nytimes.com/topic/destination/north-dakota/rss.xml",
          "https://www.jamestownsun.com/index.rss",
          "https://www.inforum.com/index.rss",
          "https://www.newsdakota.com/feed/",
        ],
        Ohio: [
          "https://www.delawareohionews.com/feed/",
          "https://ohiocapitaljournal.com/feed/",
          "https://theohiostar.com/feed/",
          "https://www.newsdakota.com/feed/",
          "https://www.cleveland.com/arc/outboundfeeds/rss/?outputType=xml",
        ],
        Oklahoma: [
          "https://oklahomawatch.org/feed/",
          "https://kfor.com/feed/",
          "https://www.tulsaworld.com/search/?f=rss&c=news",
          "https://freepressokc.com/feed/",
          "https://osagenews.org/feed/",
        ],
        Oregon: [
          "https://www.beachconnection.net/news/feed.xml",
          "https://pamplinmedia.com/feed/rss",
          "https://www.portlandmercury.com/portland/Rss.xml?section=22213/feed",
          "https://www.koin.com/feed/",
          "https://www.pdxmonthly.com/feed",
        ],
        Pennsylvania: [
          "https://phl17.com/feed/",
          "https://www.montgomerycountypa.gov/RSSFeed.aspx?ModID=76&CID=All-0",
          "https://www.nbcphiladelphia.com/?rss=y",
          "https://www.mainlinemedianews.com/feed/",
          "https://www.dailylocal.com/feed/",
        ],
        RhodeIsland: [
          "https://warwickpost.com/feed/",
          "https://www.wpri.com/feed/",
          "https://www.abc6.com/feed/",
          "https://whatsupnewp.com/feed/",
          "https://rinewstoday.com/feed/",
        ],
        SouthCarolina: [
          "https://www.postandcourier.com/search/?f=rss&t=article&c=news",
          "https://charlestoncitypaper.com/feed/",
          "https://www.fitsnews.com/feed/",
          "https://charlestoncitypaper.com/feed/",
          "https://counton2.com/feed/",
        ],
        SouthDakota: [
          "https://www.keloland.com/feed/",
          "https://www.keloland.com/feed/",
          "https://www.mitchellrepublic.com/index.rss",
          "https://www.kotaradio.com/feed/",
          "https://drgnews.com/feed/",
        ],
        Tennessee: [
          "https://www.wkrn.com/feed/",
          "https://tennesseelookout.com/feed/",
          "https://wpln.org/feed/",
          "https://www.wkrn.com/news/tennessee-news/feed/",
          "https://www.wate.com/feed/",
        ],
        Texas: [
          "https://www.texasobserver.org/feed/",
          "https://www.mysanantonio.com/default/feed/local-news-176.php",
          "https://www.kxan.com/feed/",
          "https://www.kxan.com/feed/",
          "https://texassignal.com/rss/",
        ],
        Utah: [
          "https://www.parkrecord.com/feed/",
          "https://suindependent.com/feed/",
          "https://lehifreepress.com/feed/",
          "https://www.sunews.net/blog-feed.xml",
          "https://www.fox13now.com/news/local-news.rss",
        ],
        Vermont: [
          "https://vtdigger.org/feed/",
          "https://www.boston.com/tag/vermont/feed/",
          "https://whdh.com/regional/vermont/feed/",
          "https://www.news10.com/news/vt-news/feed/",
          "https://www.sevendaysvt.com/vermont/Rss.xml",
        ],
        Virginia: [
          "https://www.wric.com/app-feed",
          "https://www.richmond.com/search/?f=rss&t=article&c=news",
          "https://valawyersweekly.com/feed/",
          "https://cardinalnews.org/feed/",
          "https://www.styleweekly.com/feed/",
        ],
        Washington: [
          "https://mynorthwest.com/feed",
          "https://www.columbian.com/feed/",
          "https://www.westsideseattle.com/rss.xml",
          "https://www.peninsuladailynews.com/feed/",
          "https://mynorthwest.com/feed/",
        ],
        WestVirginia: [
          "https://www.dominionpost.com/feed/",
          "https://www.morganmessenger.com/feed/",
          "https://apps.wv.gov/portal/rss/limit/50",
          "https://www.wfxrtv.com/news/regional-news/west-virginia-news/feed/",
          "https://wvexplorer.com/feed/",
        ],
        Wisconsin: [
          "https://madison.com/search/?f=rss&c=news",
          "https://isthmus.com/api/rss/content.rss",
          "https://www.wispolitics.com/feed/",
          "https://wisconsinexaminer.com/feed/",
          "https://fox47.com/news/local.rss",
        ],
        Wyoming: [
          "https://trib.com/search/?f=rss&t=article&c=news/state-and-regional&l=50&s=start_time&sd=desc",
          "https://wyofile.com/feed/",
          "https://www.wyofile.com/feed/",
          "https://oilcity.news/feed/",
          "https://k2radio.com/feed/",
        ],
        // Add more state feeds
      };

      const frenchFeeds = {
        "Île-de-France": [
          "https://www.leparisien.fr/rss.xml",
          "https://feeds.feedburner.com/France3-Ile-de-France-Actu",
          "https://actu.fr/ile-de-france/rss",
        ],
        Bretagne: [
          "https://www.ouest-france.fr/bretagne/rss.xml",
          "https://www.letelegramme.fr/rss/une.xml",
          "https://feeds.feedburner.com/France3-Bretagne-Actu",
        ],
        "Provence-Alpes-Côte d’Azur": [
          "https://www.laprovence.com/rss",
          "https://www.nicematin.com/rss",
          "https://feeds.feedburner.com/France3-Provence-Alpes",
        ],
        "Auvergne-Rhône-Alpes": [
          "https://www.leprogres.fr/rss",
          "https://www.ledauphine.com/rss",
          "https://feeds.feedburner.com/France3-Auvergne-Rhone-Alpes-Actu",
        ],
        "Bourgogne-Franche-Comté": [
          "https://www.bienpublic.com/rss",
          "https://www.lyonne.fr/rss",
          "https://feeds.feedburner.com/France3-Bourgogne-Franche-Comte-Actu",
        ],
        "Centre-Val de Loire": [
          "https://www.lanouvellerepublique.fr/rss",
          "https://feeds.feedburner.com/France3-Centre-Val-de-Loire-Actu",
          "https://www.magcentre.fr/feed/",
        ],
        Corse: [
          "https://www.corsematin.com/rss",
          "https://feeds.feedburner.com/France3-Corse-ViaStella-Actu",
          "https://www.alta-frequenza.corsica/rss/news.xml",
        ],
        "Grand Est": [
          "https://www.estrepublicain.fr/rss",
          "https://www.dna.fr/rss",
          "https://feeds.feedburner.com/France3-Grand-Est-Actu",
        ],
        "Hauts-de-France": [
          "https://www.lavoixdunord.fr/rss",
          "https://www.courrier-picard.fr/rss",
          "https://feeds.feedburner.com/France3-Hauts-de-France-Actu",
        ],
        Normandie: [
          "https://www.paris-normandie.fr/rss",
          "https://www.ouest-france.fr/normandie/rss.xml",
          "https://feeds.feedburner.com/France3-Normandie-Actu",
        ],
        "Nouvelle-Aquitaine": [
          "https://www.sudouest.fr/rss",
          "https://feeds.feedburner.com/France3-Nouvelle-Aquitaine-Actu",
          "https://www.charentelibre.fr/rss",
        ],
        Occitanie: [
          "https://www.ladepeche.fr/rss",
          "https://feeds.feedburner.com/France3-Occitanie-Actu",
          "https://www.midilibre.fr/rss.xml",
        ],
        "Pays de la Loire": [
          "https://www.presseocean.fr/rss",
          "https://www.ouest-france.fr/pays-de-la-loire/rss.xml",
          "https://feeds.feedburner.com/France3-Pays-de-la-Loire-Actu",
        ],

        // Overseas regions
        Guadeloupe: [
          "https://www.guadeloupe.franceantilles.fr/rss.xml",
          "https://www.rciguadeloupe.fr/rss.xml",
          "https://feeds.feedburner.com/France3-Guadeloupe-Actu",
        ],
        Martinique: [
          "https://www.martinique.franceantilles.fr/rss.xml",
          "https://www.rcimartinique.fr/rss.xml",
          "https://feeds.feedburner.com/France3-Martinique-Actu",
        ],
        Guyane: [
          "https://www.franceguyane.fr/rss.xml",
          "https://feeds.feedburner.com/France3-Guyane-Actu",
          "https://la1ere.francetvinfo.fr/guyane/rss",
        ],
        "La Réunion": [
          "https://www.clicanoo.re/rss",
          "https://www.linfo.re/rss",
          "https://feeds.feedburner.com/France3-La-Reunion-Actu",
        ],
        Mayotte: [
          "https://la1ere.francetvinfo.fr/mayotte/rss",
          "https://feeds.feedburner.com/France3-Mayotte-Actu",
          "http://www.mayottehebdo.com/rss",
        ],
      };

      const germanyFeeds = {
        Bavaria: [
          "https://www.br.de/nachrichten/bayern/index~rss.xml",
          "https://www.augsburger-allgemeine.de/rss/feed/all/",
          "https://www.merkur.de/rss",
        ],
        "Baden-Württemberg": [
          "https://www.swr.de/swraktuell/baden-wuerttemberg/index.rss",
          "http://www.bw.igm.de/feed/news.xml",
          "https://www.stuttgarter-zeitung.de/rss/feed.stz",
        ],
        "North Rhine-Westphalia": [
          "https://www1.wdr.de/rss/nachrichten-nrw-102.xml",
          "https://www.landtag.nrw.de/home/aktuelles/meldungen-und-berichte/rss-newsfeed/rss-feed/contentArea/meldungen-rss-feed.xml",
          "https://www.express.de/rss.xml",
        ],
        // Add the rest of the 13 Bundesländer similarly
      };

      const italyFeeds = {
        Lombardy: [
          "https://www.en.regione.lombardia.it/wps/portal/site/en-regione-lombardia/feedrss",
          "https://www.ilgiorno.it/rss/cronaca/lombardia.xml",
          "https://www.milanotoday.it/rss",
        ],
        Lazio: [
          "https://www.ilmessaggero.it/rss/home.xml",
          "https://www.romatoday.it/rss",
          "https://feeds.feedburner.com/RomaitNotizie",
        ],
        Sicily: [
          "https://www.lasicilia.it/rss.xml",
          "https://palermo.repubblica.it/rss/rss2.0.xml",
          "https://www.giornaledisicilia.it/feed/",
        ],
        // Continue for all other Italian regions (Veneto, Emilia-Romagna, etc.)[9][17][21][34].
      };

      const spainFeeds = {
        Catalonia: [
          "https://www.lavanguardia.com/mvc/feed/rss/catalunya",
          "https://www.ara.cat/rss",
          "https://www.elperiodico.com/es/rss/catalunya/rss.xml",
        ],
        Andalusia: [
          "https://www.diariodesevilla.es/rss/andalucia/",
          "https://sevilla.abc.es/rss/andalucia.xml",
          "https://www.surinenglish.com/rss/andalucia",
        ],
        Madrid: [
          "https://www.elmundo.es/rss/madrid.xml",
          "https://www.abc.es/rss/madrid.xml",
          "https://madridmetropolitan.com/feed",
        ],
        // Complete for remaining communities: Galicia, Valencia, Basque Country, Canary Islands, etc.[10][18][28][30][36][37].
      };

      const argentinaFeeds = {
        "Buenos Aires": [
          "https://www.lanacion.com.ar/rss/ultimas-noticias/",
          "https://www.clarin.com/rss/lo-ultimo/",
          "https://www.baenegocios.com/rss",
        ],
        Córdoba: [
          "https://www.lavoz.com.ar/rss/ultimas.xml",
          "https://www.diariocordoba.com/rss",
          "https://www.cadena3.com/rss",
        ],
        "Santa Fe": [
          "https://www.ellitoral.com/rss/ultimas.xml",
          "https://www.lacapital.com.ar/rss/ultimas.xml",
          "https://www.unosantafe.com.ar/rss",
        ],
        // Add more provinces as needed
      };

      const brazilFeeds = {
        "São Paulo": [
          "https://www.estadao.com.br/rss/ultimas.xml",
          "https://g1.globo.com/sp/sao-paulo/rss2.xml",
          "https://folha.uol.com.br/rss/saopaulo.xml",
        ],
        "Rio de Janeiro": [
          "https://g1.globo.com/rj/rio-de-janeiro/rss2.xml",
          "https://oglobo.globo.com/rss.xml",
          "https://extra.globo.com/rss.xml",
        ],
        "Minas Gerais": [
          "https://g1.globo.com/mg/minas-gerais/rss2.xml",
          "https://www.otempo.com.br/cmlink/otempo/noticias/minas-gerais-1.202246.xml",
          "https://em.com.br/rss.xml",
        ],
        // Add more states as needed
      };

      const chileFeeds = {
        "Región Metropolitana": [
          "https://www.latercera.com/rss/",
          "https://www.elmostrador.cl/feed/",
          "https://www.emol.com/rss.asp?canal=Actualidad",
        ],
        Valparaíso: [
          "https://www.soyvalparaiso.cl/rss/",
          "https://www.mercuriovalpo.cl/rss.xml",
          "https://www.biobiochile.cl/rss/region-valparaiso.xml",
        ],
        Biobío: [
          "https://www.biobiochile.cl/rss/region-bio-bio.xml",
          "https://www.soyconcepcion.cl/rss/",
          "https://www.ladiscusion.cl/feed/",
        ],
        // Add more regions as needed
      };

      const colombiaFeeds = {
        "Bogotá D.C.": [
          "https://www.eltiempo.com/rss/bogota.xml",
          "https://www.elcolombiano.com/rss/bogota",
          "https://www.eluniversal.com.co/rss/bogota",
        ],
        Antioquia: [
          "https://www.elcolombiano.com/rss/antioquia",
          "https://www.minuto30.com/feed/",
          "https://www.h13n.com/rss",
        ],
        "Valle del Cauca": [
          "https://www.elpais.com.co/rss/valle.xml",
          "https://90minutos.co/feed/",
          "https://www.elpais.com.co/rss/cali.xml",
        ],
        // Add more departments as needed
      };

      const polandFeeds = {
        Mazowieckie: [
          "https://tvnwarszawa.tvn24.pl/rss.html",
          "https://warszawa.naszemiasto.pl/wiadomosci/a/rss.xml",
          "https://www.rdc.pl/rss.xml",
        ],
        Małopolskie: [
          "https://krakow.naszemiasto.pl/wiadomosci/a/rss.xml",
          "https://lovekrakow.pl/rss",
          "https://krakow.pl/feed/rss.html",
        ],
        Śląskie: [
          "https://katowice.wyborcza.pl/katowice/0,110207.html?format=rss",
          "https://katowice.naszemiasto.pl/wiadomosci/a/rss.xml",
          "https://www.slaskie.pl/rss.php",
        ],
        // Continue for all 16 regions
      };

      const czechFeeds = {
        Prague: [
          "https://prazsky.denik.cz/rss/zpravy_z_pravy.html",
          "https://www.novinky.cz/rss/section/regiony-praha",
          "https://www.praha1.cz/feed/",
        ],
        "South Moravian": [
          "https://brnensky.denik.cz/rss/zpravy_z_brna.html",
          "https://brnodnes.cz/rss/zpravy.php",
          "https://www.brno.cz/rss",
        ],
        "Moravian-Silesian": [
          "https://ostrava.idnes.cz/rss.asp?c=ostrava",
          "https://moravskoslezsky.denik.cz/rss/zpravy_z_moravskoslezskeho_kraje.html",
          "https://www.ostrava.cz/cs/o-meste/rss",
        ],
        // Continue for all 14 regions
      };

      const hungaryFeeds = {
        "Central Hungary": [
          "https://www.budapest.hu/rss/news.xml",
          "https://hvg.hu/rss/hvgfriss",
          "https://index.hu/24ora/rss/",
        ],
        "Central Transdanubia": [
          "https://feol.hu/rss",
          "https://veol.hu/rss",
          "https://kemma.hu/rss",
        ],
        "Southern Great Plain": [
          "https://delmagyar.hu/rss",
          "https://baon.hu/rss",
          "https://www.szegedma.hu/feed",
        ],
        // Continue for all 7 official regions plus Budapest
      };

      const romaniaFeeds = {
        "Bucharest-Ilfov": [
          "https://www.bucurestifm.ro/feed/",
          "https://adevarul.ro/rss/bucuresti/index.xml",
          "https://www.hotnews.ro/rss/bucuresti",
        ],
        "North-West": [
          "https://www.graiulsalajului.ro/feed/",
          "https://transilvaniareporter.ro/feed/",
          "https://www.bihon.ro/feed/",
        ],
        Centre: [
          "https://www.monitorulexpres.ro/rss/",
          "https://www.turnulsfatului.ro/rss/",
          "https://sibiuindependent.ro/feed/",
        ],
        // Continue for all 8 regions
      };
      const bulgariaFeeds = {
        Sofia: [
          "https://sofiaglobe.com/feed/",
          "https://www.dnevnik.bg/rss.php",
          "https://bnr.bg/sofia/rss",
        ],
        Plovdiv: [
          "https://www.plovdiv24.bg/rss.xml",
          "https://plovdivnow.bg/rss",
          "https://dariknews.bg/rss/plovdiv",
        ],
        Varna: [
          "https://www.varna24.bg/rss.xml",
          "https://bnr.bg/varna/rss",
          "https://petel.bg/rss.xml",
        ],
        // Continue for all 6 planning regions
      };

      const russiaFeeds = {
        "Moscow City": [
          "https://vm.ru/rss",
          "https://www.mos.ru/rss",
          "https://www.m24.ru/rss/news",
        ],
        "Saint Petersburg": [
          "https://www.fontanka.ru/rss",
          "https://spbdnevnik.ru/rss",
          "https://nevnov.ru/rss.xml",
        ],
        "Krasnodar Krai": [
          "https://kubnews.ru/rss",
          "https://www.yuga.ru/export/rss2/",
          "https://24krasnodar.ru/rss",
        ],
        "Sverdlovsk Oblast": [
          "https://www.e1.ru/news.rss",
          "https://66.ru/news/rss/",
          "https://www.oblgazeta.ru/rss/",
        ],
        Tatarstan: [
          "https://kazanfirst.ru/rss",
          "https://www.business-gazeta.ru/rss",
          "https://inkazan.ru/rss",
        ],
        "Nizhny Novgorod Oblast": [
          "https://nnews.nnov.ru/rss",
          "https://vgoroden.ru/rss",
          "https://newsnn.ru/rss",
        ],
        "Novosibirsk Oblast": [
          "https://www.ngs.ru/rss",
          "https://sib.fm/news/rss",
          "https://news.ngs.ru/rss",
        ],
        "Primorsky Krai": [
          "https://vladnews.ru/rss",
          "https://primamedia.ru/rss/",
          "https://deita.ru/rss",
        ],
        "Rostov Oblast": [
          "https://www.donnews.ru/rss",
          "https://161.ru/rss",
          "https://bloknot-rostov.ru/rss",
        ],
        Sakha: [
          "https://yakutia.info/rss",
          "https://ysia.ru/feed/",
          "https://egorby.ru/rss",
        ],
      };

      const nigeriaFeeds = {
        Lagos: [
          "https://thenationonlineng.net/feed/",
          "https://www.channelstv.com/feed/",
          "https://www.premiumtimesng.com/category/news/top-news/feed",
        ],
        Kano: [
          "https://dailynigerian.com/feed/",
          "https://dailytrust.com/feed/",
          "https://newnigeriannewspaper.com.ng/feed/",
        ],
        Rivers: [
          "https://www.portharcourtblog.com.ng/feeds/posts/default",
          "https://newwavereports.com/feed/",
          "https://businessday.ng/feed/",
        ],
      };

      const southAfricaFeeds = {
        Gauteng: [
          "https://ewn.co.za/RssFeed",
          "https://citizen.co.za/feed/",
          "https://www.enca.com/rss/aggregator",
        ],
        "Western Cape": [
          "https://www.iol.co.za/capetimes/rss",
          "https://www.news24.com/news24/southafrica/westerncape/rss",
          "https://www.capetownetc.com/feed/",
        ],
        "KwaZulu-Natal": [
          "https://www.iol.co.za/dailynews/rss",
          "https://www.ecr.co.za/rss/latest-news.xml",
          "https://northglennews.co.za/feed/",
        ],
      };

      const egyptFeeds = {
        Cairo: [
          "https://english.ahram.org.eg/UI/Front/ah/ah_rss.aspx",
          "https://www.egypttoday.com/rss",
          "https://www.dailynewsegypt.com/feed/",
        ],
        Alexandria: [
          "https://see.news/feed/",
          "https://en.almasryalyoum.com/rss/rssfeeds",
          "https://www.albawabhnews.com/rss/rss.aspx?catid=37",
        ],
      };

      const kenyaFeeds = {
        Nairobi: [
          "https://www.nation.co.ke/rss.xml",
          "https://www.the-star.co.ke/feed/",
          "https://www.standardmedia.co.ke/rss/kenya.xml",
        ],
        Mombasa: [
          "https://www.the-star.co.ke/counties/coast/rss.xml",
          "https://coastweek.com/feed/",
          "https://barakafm.org/feed/",
        ],
      };

      const moroccoFeeds = {
        "Casablanca-Settat": [
          "https://www.lopinion.ma/xml/syndication.rss",
          "https://aujourdhui.ma/feed/",
          "https://www.leconomiste.com/rss.xml",
        ],
        "Marrakesh-Safi": [
          "https://m.medi1news.com/fr/rss/29-marrakech-safi.html",
          "https://www.lesiteinfo.com/rss/regions/rss.php?region=3",
          "https://www.marrakechlanuit.com/rss/",
        ],
      };

      const allFeeds = {
        ...stateFeeds, // US states
        ...frenchFeeds, // French regions
        ...germanyFeeds, // Example above
        ...italyFeeds, // Example above
        ...spainFeeds,
        ...argentinaFeeds,
        ...brazilFeeds,
        ...chileFeeds,
        ...colombiaFeeds,
        ...polandFeeds,
        ...czechFeeds,
        ...hungaryFeeds,
        ...romaniaFeeds,
        ...bulgariaFeeds,
        ...russiaFeeds,
        ...nigeriaFeeds,
        ...southAfricaFeeds,
        ...egyptFeeds,
        ...kenyaFeeds,
        ...moroccoFeeds,
      };

      const articlesByFeed = {};
      const currentIndex = {};
      const lastTitle = {};

      async function fetchFeed(url, feedKey) {
        const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(
          url
        )}&api_key=${apiKey}`;
        try {
          const res = await fetch(apiUrl);
          const data = await res.json();
          if (data.status === "ok") {
            articlesByFeed[feedKey] = data.items;
            currentIndex[feedKey] = 0;
          } else {
            articlesByFeed[feedKey] = [];
            console.warn(`Feed error [${feedKey}]`, data.message);
          }
        } catch (err) {
          console.error("Feed fetch failed:", err);
          articlesByFeed[feedKey] = [];
        }
      }

      async function refreshAllFeeds() {
        const promises = [];
        Object.keys(allFeeds).forEach((region) => {
          allFeeds[region].forEach((url, i) => {
            const feedKey = `${region}-${i}`;
            promises.push(fetchFeed(url, feedKey));
          });
        });
        await Promise.all(promises);
        renderAll();
      }

      function renderAll() {
        Object.keys(allFeeds).forEach((region) => {
          allFeeds[region].forEach((url, i) => {
            const feedKey = `${region}-${i}`;
            const slot = document.getElementById(`${region}-slot-${i}`);

            if (!slot) return;
            const items = articlesByFeed[feedKey] || [];
            if (items.length === 0) {
              slot.textContent = "(No data)";
              return;
            }
            const idx = currentIndex[feedKey] || 0;
            const article = items[idx];
            if (lastTitle[feedKey] !== article.title) {
              slot.classList.add("flash-green");
              setTimeout(() => slot.classList.remove("flash-green"), 300);
            }
            slot.innerHTML = `<a href="${article.link}" target="_blank">${article.title}</a>`;
            lastTitle[feedKey] = article.title;
          });
        });
      }

      function rotateArticles() {
        Object.keys(allFeeds).forEach((region) => {
          allFeeds[region].forEach((url, i) => {
            const feedKey = `${region}-${i}`;
            const items = articlesByFeed[feedKey];
            if (items && items.length > 0) {
              currentIndex[feedKey] =
                (currentIndex[feedKey] + 1) % items.length;
            }
          });
        });
        renderAll();
      }

      // ✔ Start on page load
      refreshAllFeeds();
      setInterval(refreshAllFeeds, 15 * 60 * 1000);
      setInterval(rotateArticles, 5000);

      function loadNewsFeed(stateCode) {
        const feedUrl = stateFeeds[stateCode];
        if (!feedUrl) return;

        // Use a public RSS to JSON service, e.g. rss2json.com:
        const apiUrl =
          "https://api.rss2json.com/v1/api.json?rss_url=" +
          encodeURIComponent(feedUrl);

        $.getJSON(apiUrl, function (data) {
          $("#news-list").empty();
          if (data.items) {
            data.items.slice(0, 5).forEach(function (item) {
              $("#news-list").append(
                '<li><a href="' +
                  item.link +
                  '" target="_blank">' +
                  item.title +
                  "</a></li>"
              );
            });
          } else {
            $("#news-list").append("<li>No news found.</li>");
          }
        });
      }
    </script>
  </body>
</html>
